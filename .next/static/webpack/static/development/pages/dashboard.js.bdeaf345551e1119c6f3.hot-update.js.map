{"version":3,"file":"static/webpack/static/development/pages/dashboard.js.bdeaf345551e1119c6f3.hot-update.js","sources":["webpack:///./components/Dashboard/FetchQuery.js"],"sourcesContent":["import { Query } from \"react-apollo\";\nimport ReChart from \"../Charts/ReChart\";\nimport Sidebar from \"../Categories/Menu\";\nimport gql from \"graphql-tag\";\nimport styled from \"styled-components\";\nimport { inject, observer } from \"mobx-react\";\nimport { useState } from \"react\";\n// import { observer } from \"mobx-react-lite\";\n\n// import { storesContext } from \"../../stores/UserStore\";\n\n@inject(\"store\")\n@observer\nclass FetchQuery extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { currency: this.props.store.currency };\n  }\n\n  componentDidMount() {\n    console.log(this.props.store.currency);\n    this.setState({ currency: this.props.store.currency });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // console.log(prevProps.store.currency);\n    // console.log(this.props.store.currency);\n    // console.log(snapshot);\n    console.log(this.props.store.currency);\n    if (this.props.store.currency !== prevProps.store.currency) {\n      console.log(\"got new props\");\n    }\n  }\n\n  render() {\n    console.log(this.props.store.hoursBack);\n    let sentVariables = {\n      currency: this.props.store.currency\n    };\n    return (\n      <Query query={sentQuery} variables={sentVariables}>\n        {({ loading, error, data }) => {\n          if (error) return <div>no data loaded</div>;\n          if (loading) return <div>Loading</div>;\n          console.log(data);\n\n          return (\n            <Wrapper>\n              <ChartWrapper>\n                <ReChart data={data} />\n              </ChartWrapper>\n            </Wrapper>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n\n// const FetchQuery = inject(\"store\")(\n//   observer(({ store, currency }) => {\n//     const [currencyState, setCurrency] = useState(store.currency);\n//     console.log(currency);\n//     // const clicked = () => {\n//     //   if (store.currency == \"bitcoin\") {\n//     //     store.currency = \"ethereum\";\n//     //   } else if (store.currency == \"ethereum\") {\n//     //     store.currency = \"bitcoin\";\n//     //   }\n//     // };\n//     // console.log(currency);\n\n//     // let currency1 = \"bitcoin\";\n//     // let currency2 = \"ethereum\";\n\n//     let sentVariables = {\n//       currency: currency,\n//       hoursBack: \"7\"\n//     };\n\n//     return (\n//       <Query query={sentQuery} variables={sentVariables}>\n//         {({ loading, error, data }) => {\n//           if (error) return <div>no data loaded</div>;\n//           if (loading) return <div>Loading</div>;\n//           console.log(data);\n\n//           return (\n//             <Wrapper>\n//               <ChartWrapper>\n//                 <ReChart data={data} />\n//               </ChartWrapper>\n//               <Sidebar />\n//             </Wrapper>\n//           );\n//         }}\n//       </Query>\n//     );\n//   })\n// );\n\nexport default FetchQuery;\n\nconst sentQuery = gql`\n  query HourSentiment($currency: String!, $hoursBack: String!) {\n    hourSentiment(currency: $currency, hoursBack: $hoursBack) {\n      time\n      sentiment\n      num_tweets\n    }\n  }\n`;\n\nconst ChartWrapper = styled.div`\n  background: white;\n  border: 1px solid #ebedf0;\n  padding: 5px;\n  width: 100%;\n  @media (max-width: 768px) {\n    margin: 0 5vw;\n  }\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: flex-align;\n`;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;;;;AA3CA;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAUA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}